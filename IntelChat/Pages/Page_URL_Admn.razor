@page "/URL_Admn"
@inject NnetDbContext db
@inject NavigationManager _nav
@inject IConfiguration _configuration
@* @inject NounService nounService *@
@layout CustomLayout
@using IntelChat.Models
@using System.Data.SqlClient;
@using System.Data;
@using System.Data.Common;
@* @using IntelChat.Services; *@

<style>
	body {
		background: url("https://agineuralnet.blob.core.windows.net/background/BG_Language.png")no-repeat; /*Background to blob*/
		background-size: 1920px 1080px;
		background-position: left 0px top 0px;
		background-color: #000000;
		color: antiquewhite;
		opacity: 70%;
		width: 1920px;
		height: 1080px;
	}

    .url-table-container {
        margin: 20px auto;
        width: 80%;
    }

    .url-table {
        width: 100%;
        border-collapse: collapse;
    }

        .url-table th, .url-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .url-table tr:hover {
            background-color: #f5f5f5;
            cursor: pointer;
        }

    .url-preview-container {
        width: 60%;
        margin: 20px auto;
        text-align: center;
        background: #f9f9f9;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .preview-image {
        max-width: 100%;
        margin-top: 10px;
    }

    .youtube-video {
        width: 100%;
        height: 400px;
        margin-top: 10px;
    }

    .pdf-viewer {
        width: 100%;
        height: 500px;
        margin-top: 10px;
        border: none;
    }


</style>

@page "/url-admin"

@if (entities.Count > 0 && SelectedUrl != null)
{
    <div class="url-container">
        <h3>@SelectedUrl.UrlLabel</h3>
        <p><strong>Description:</strong> @SelectedUrl.UrlDescription</p>
        <p><strong>Type:</strong> @SelectedUrl.UrlType</p>
        <p><strong>URL:</strong> <a href="@SelectedUrl.UrlCloud" target="_blank">@SelectedUrl.UrlCloud</a></p>

        @if (IsImage(SelectedUrl.UrlCloud))
        {
            <img src="@SelectedUrl.UrlCloud" alt="Image Preview" class="preview-image" />
        }
        else if (IsYouTube(SelectedUrl.UrlCloud))
        {
            <iframe class="youtube-video" src="@GetYouTubeEmbedUrl(SelectedUrl.UrlCloud)" frameborder="0" allowfullscreen></iframe>
        }
        else if (IsPDF(SelectedUrl.UrlCloud))
        {
            <iframe class="pdf-viewer" src="@SelectedUrl.UrlCloud"></iframe>
        }

        <div class="navigation-buttons">
            <button @onclick="GoToPreviousUrl" disabled="@(_selectedIndex == 0)">⬅ Previous</button>
            <button @onclick="GoToNextUrl" disabled="@(_selectedIndex == entities.Count - 1)">Next ➡</button>
        </div>
    </div>
}

else
{
    <p>No URLs available.</p>
}



