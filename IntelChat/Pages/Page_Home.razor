@page "/"
@inject NnetDbContext db
@inject NavigationManager _nav
@inject IConfiguration _configuration
@inject NounService nounService
@inject IHttpContextAccessor context
@layout CustomLayout
@using IntelChat.Models
@using System.Data.SqlClient;
@using System.Data;
@using System.Data.Common;
@using IntelChat.Services;
@using System.Security.Claims
@using Microsoft.AspNetCore.Http
@using ThreadingTask = System.Threading.Tasks.Task;

<!-- ************************************************************************************ -->
<!-- ********************** Refer to Cascading Style Sheet - CSS  *********************** -->
<!-- ************************************************************************************ -->

<style>
	body {
		background: url("https://agineuralnet.blob.core.windows.net/background/BG_HomePage.png") no-repeat;
		background-size: 1920px 1080px;
		background-position: left 0px top 0px;
		background-color: #000000;
		margin: 0;
		padding: 0;
		color:seashell;
		box-sizing: border-box;
		width: 100%;
		height: 100%;
		font-size:18px;
	}
	.home-btn {
		color: transparent;
		user-select: none;
		opacity: 0;
		border:1px;
		border-radius:5px;
	}
	.home-btn:hover {
		background-color: #FFFFFF;
		opacity: 0.2;
	}
	#modal {
		background: url("https://agineuralnet.blob.core.windows.net/panels/Panel_Modal.png") no-repeat;
		background-size: 1920px 1080px;
		position: absolute;
		width: 1920px;
		height: 1080px;
		left: 0px;
		top: 0px;
		padding: 0px;	
	}
	#modal-content {
		background-color:deeppink #8ba3de;
		margin:0px;
		padding: 0px;
	}

	#hide-modal {
		font-size: 50px;
		font-weight: bolder;
		color: #000000;
		float: right;
		cursor: pointer
	}
	#hide-modal:hover {
		color: #555555;
	}

    textarea {
        border-radius: 5px;
        padding: 12px 20px;
        box-sizing: border-box;
        border: 2px solid #cccccc;
        border-radius: 4px;
        background-color: #c6d1ef;
        color: seashell;
        font-size: 12px;
    }

	.close-chat-button {
		position: absolute;
		top: 10px;
		right: 10px;
		padding: 5px 10px; /* Make sure the padding and size are controlled */
		background-color: #f0f0f0;
		border: 1px solid #ccc;
		font-size: 14px;
		z-index: 1001; /* Ensure it's on top of other elements */
	}
</style>



	<!-- ************************************************************************************ -->
	<!-- ***************************** MODAL Display Buttons ******************************** -->
	<!-- ************************************************************************************ -->
@if (isIframeVisible)
{
	<div class="floating-iframe">
		<button class="close-chat-button" @onclick="HideChat">Close Chat</button> <!-- Add a close button inside the chat/memo -->
		<iframe src="@iframeSource" style="width: 350px; height: 500px; position: fixed; top: 20px; right: 20px; border: none; z-index: 1000;"></iframe>
	</div>
}

@if (modal)
{
	<div id="modal">
		<p id="hide-modal" @onclick=HideModal>EXIT</p>
		<div id="modal-content">
			@if (show == "video")
			{
				<div style="z-index:1;width:800px;left:20px;top:20px;">
					<Media_Video></Media_Video>
				</div>
			}
			@if (show == "audio")
			{
				<div style="z-index:1;width:500px;height:500px;top:200px;">
					<Media_Audio></Media_Audio>
				</div>
			}
			@if (show == "project")
			{
				<embed src="https://agineuralnet.blob.core.windows.net/pdf/Intel-a-Chat.pdf" type="application/pdf" width="80%" height="100%" style="position: absolute; top: 100px; left: 400px">
				<button class="modal-btn" @onclick=HideModal style="position: absolute; width: 100px; height: 50px; color: black; background-color: white; top: 40px; left: 30px; z-index: 10000;">Close PDF</button>
			}
		</div>
	</div>
}

else
{
    <!-- ************************************************************************************ -->
    <!-- ********************************* DISPLAY POD# and PID# *************************** -->
    <!-- ************************************************************************************ -->
	<p style="position:absolute;top:030px;left:20px;font-size:22px;opacity:20%;color:aquamarine">POD: @pod</p>
	<p style="position:absolute;top:060px;left:20px;font-size:22px;opacity:20%;color:aquamarine">PID: @pid</p>

	<!-- ************************************************************************************ -->
	<!-- ********************************* GOTO PAGE_ROUTINGcode***************************** -->
	<!-- ************************************************************************************ -->
	<a href="/Register" style="position:absolute;top:090px;left:200px;font-size:24px;color:#FFFFFF">Register</a>
	<a href="/Login"    style="position:absolute;top:130px;left:200px;font-size:24px;color:#FFFFFF">Login</a>
	<a href="/Logout"   style="position:absolute;top:170px;left:200px;font-size:24px;color:#FFFFFF">Logout</a>

	<!-- ************************************************************************************ -->
	<!-- ******************************** MODAL Buttons (page overlay) ********************** -->
	<!-- ************************************************************************************ -->
	<button class="home-btn" @onclick=ShowMemo style="position:absolute;top:127px;left:1465px;width:270px;height:116px;">Memo</button>
	<button class="home-btn" @onclick=ShowChat style="position:absolute;top:288px;left:1465px;width:270px;height:116px;">Chat</button>


	<!-- ************************************************************************************ -->
	<!-- ******************************** USED POD COMMUNITY (select and display) *********** -->
	<!-- ************************************************************************************ -->
	@if(showImage)
	{
		@*<img src="@currentPod.PodUrlBase" style="position:absolute;top:275px;left:95px;width:330px;height:400px;border:0px;" />*@
	}
	<button class="home-btn" @onclick=NavigateToCommunity style="position:absolute;top:687px;left:83px;width:352px;height:103px;">Community</button>


	<!-- ************************************************************************************ -->
	<!-- ******************************** Display POD information (from code) *************** -->
	<!-- ************************************************************************************ -->
	<p style="position:absolute;top:275px;left:500px;width:810px;height:400px;font-size:42px;text-align:center;font-family:serif;">@currentPod.PodDescription</p>
	<p style="position:absolute;top:740px;left:490px;width:840px;height:070px;font-size:42px;text-align:center;font-family:serif;">@currentPod.PodLabel</p>

	<!-- ************************************************************************************ -->
	<!-- ******************************** ROLE MENU or (Modal overlay) ********************** -->
	<!-- ************************************************************************************ -->
	<button class ="home-btn" @onclick=NavigateToMenu style="position:absolute;top:888px;left:0100px;width:272px;height:116px;">Start As @role</button>
	<button class ="home-btn" @onclick=ShowVideo      style="position:absolute;top:888px;left:0412px;width:272px;height:116px;">Video</button>
	<button class ="home-btn" @onclick=ShowAudio      style="position:absolute;top:888px;left:0722px;width:272px;height:116px;">Audio</button>
	<button class ="home-btn" @onclick=ShowProject    style="position:absolute;top:888px;left:1032px;width:272px;height:116px;">Project</button>
}

